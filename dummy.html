<style>
@keyframes slide {
    0% {
      transform: translateX(0%);
    }
    25% {
      transform: translateX(-100%);
    }
    50% {
      transform: translateX(-200%);
    }
    75% {
      transform: translateX(-300%);
    }
    100% {
      transform: translateX(0%);
    }
  }




  
</style>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
   

    </style>
      <!-- left part of the nav -->
      <div class="left-nav">
        <img src="Apna Bazar.png" alt="">
    </div>
<!-- seacrh bar of the nav -->
    <div class="search-bar">
        <input type="text" placeholder="Find Your Favrouite Product" id="search-input">
        <button id="search-button">Search</button>
      </div>
<!-- right part of the nav -->
    <div class="right-nav">
        <nav class="navbar">
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="products.html">Products</a>
            <a href="login.html">Login</a>
          


            
        </nav>
    </div>
</head>
<body>
    
</body>
</html>

<script>


const name = document.getElementById('name');
const email = document.getElementById('email');
const password = document.getElementById('password');
const form = document.querySelector('form');

form.addEventListener('submit',async(e)=>{
    e.preventDefault();
    let lastUser = 0
    try{
        await fetch("http://localhost:3000/user")
        .then(response=>response.json)
        .then(data =>{
lastUser =data.length
data.forEach(element=>{
if(email.value === element.email){
    return alert("Email already registered")
}

});

        });
    }catch(error){
        alert('Error:', error.message)
    }
    let formData =JSON.stringify({
        id:lastUser+1,
        email:email.value,
        profile: "https://wwww.w3schools.com/w3images/avatar2.png",
        password:name.value,
        role:"users"
    })

    try{
        await fetch("http://localhost:3000/user",{
            method:'POST',
            body:formData
        })
        .then(response => response.json())
        .then(data => {
            if (data.error) {
                alert(data.error)
            } else {
                alert('User created successfully')
            }
        })
} 
catch (error) {
    alert('Error: ', error.message)
}

})







</script>

<!--  for hamburger part -->
<script>
  const hamburger = document.querySelector('.hamburger');
  const navLinks = document.querySelector('.navbar');

  hamburger.addEventListener('click', () => {
    navLinks.classList.toggle('show'); 
  });
</script>
